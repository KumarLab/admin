/*!
 * JavaScript Nicecon
 * Version 1.0.0
 *
 * by Prabhat Kumar
 *
 * Copyright Â© 2013. All rights reserved.
 * http://kumarlab.org/
 *
 * Date: Wed 1/9/2013 -- 6:00 PM [-Indian Standard Time]
 */
(function(){var e={};var t=null;var n=null;var r=null;var i=null;var s={};var o={color:"#ff0084",background:"#bbb",shadow:"#fff",fallback:false};var u=function(){var e=navigator.userAgent.toLowerCase();return function(t){return e.indexOf(t)!==-1}}();var a={ie:u("msie"),chrome:u("chrome"),webkit:u("chrome")||u("safari"),safari:u("safari")&&!u("chrome"),mozilla:u("mozilla")&&!u("chrome")&&!u("safari")};var f=function(){var e=document.getElementsByTagName("link");for(var t=0,n=e.length;t<n;t++){if(e[t].getAttribute("rel")==="icon"||e[t].getAttribute("rel")==="shortcut icon"){return e[t]}}return false};var l=function(){var e=document.getElementsByTagName("link");var t=document.getElementsByTagName("head")[0];for(var n=0,r=e.length;n<r;n++){if(e[n].getAttribute("rel")==="icon"||e[n].getAttribute("rel")==="shortcut icon"){t.removeChild(e[n])}}};var c=function(e){l();var t=document.createElement("link");t.type="image/x-icon";t.rel="icon";t.href=e;document.getElementsByTagName("head")[0].appendChild(t)};var h=function(){if(!i){i=document.createElement("canvas");i.width=16;i.height=16}return i};var p=function(e){var n=h();var r=n.getContext("2d");var e=e||0;var i=t;var o=new Image;o.onload=function(){if(r){r.clearRect(0,0,16,16);r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2),0,Math.PI*2,false);r.fillStyle=s.shadow;r.fill();r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2)-2,0,Math.PI*2,false);r.fillStyle=s.background;r.fill();if(e>0){r.beginPath();r.moveTo(n.width/2,n.height/2);r.arc(n.width/2,n.height/2,Math.min(n.width/2,n.height/2)-2,-.5*Math.PI,(-.5+2*e/100)*Math.PI,false);r.lineTo(n.width/2,n.height/2);r.fillStyle=s.color;r.fill()}c(n.toDataURL())}};if(!i.match(/^data/)){o.crossOrigin="anonymous"}o.src=i};var d=function(e){if(e>0){document.title="("+e+"%) "+r}else{document.title=r}};e.setOptions=function(e){s={};for(var t in o){s[t]=e.hasOwnProperty(t)?e[t]:o[t]}return this};e.setProgress=function(e){if(!r){r=document.title}if(!n||!t){var i=f();n=t=i?i.getAttribute("href"):"/favicon.ico"}if(!isNaN(parseFloat(e))&&isFinite(e)){if(!h().getContext||a.ie||a.safari||s.fallback==true){return d(e)}else if(s.fallback==="force"){d(e)}return p(e)}return false};e.reset=function(){if(r){document.title=r}if(n){t=n;c(t)}};e.setOptions(o);window.Nicecon=e})()
